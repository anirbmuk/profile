<ng-container
  *ngFor="
    let timeline of _mappedTimelines;
    let idx = index;
    trackBy: trackByTimelineFn
  "
>
  <div class="grid grid-cols-5 gap-3 md:gap-0">
    <div
      class="col-span-2 flex justify-end items-start pt-2 lg:hover:-translate-x-2 ease-in duration-300 text-right"
      [class]="timeline.size ?? 'h-24'"
      #left
    >
      <ng-container *ngIf="timeline.alignment === 'left'">
        <div class="block relative -right-1/6 md:-right-1/5 space-y-1">
          <div class="text-sm text-gray-700 font-semiBold">
            {{ timeline.start }} - {{ timeline.end || 'present' }}
          </div>
          <div class="text-black-dark text-sm md:text font-semiBold !leading-4">
            {{ timeline.designation }}, {{ timeline.provider }}
          </div>
          <div class="text-sm text-gray-600">{{ timeline.location }}</div>
          <div
            *ngIf="timeline.description"
            class="text-sm text-gray-900 hidden md:block md:mt-2 md:max-w-fit !leading-4"
          >
            {{ timeline.description }}
          </div>
        </div>
      </ng-container>
    </div>
    <div
      class="mx-auto w-4 bg-gray-400 border-2 border-gray-400 lg:hover:bg-black-alt lg:hover:border-black-alt flex justify-center items-center cursor-pointer ease-in duration-300"
      [class]="timeline.size ?? 'h-24'"
      [ngClass]="{
        'rounded-t-sm': idx === 0,
        'rounded-b-sm': idx === _mappedTimelines.length - 1
      }"
      [feHover]="{
        elements: [timeline.alignment === 'left' ? left : right],
        classList:
          timeline.alignment === 'left'
            ? 'lg:-translate-x-2'
            : 'lg:translate-x-2'
      }"
      #middle
    ></div>
    <div
      class="col-span-2 flex justify-start items-start pt-1 lg:hover:translate-x-2 ease-in duration-300"
      [class]="timeline.size ?? 'h-24'"
      #right
    >
      <ng-container *ngIf="timeline.alignment === 'right'">
        <div class="block relative -left-1/6 md:-left-1/5 space-y-1">
          <div class="text-sm text-gray-700 font-semiBold">
            {{ timeline.start }} - {{ timeline.end }}
          </div>
          <div class="text-black-dark text-sm md:text font-semiBold !leading-4">
            {{ timeline.designation }}, {{ timeline.provider }}
          </div>
          <div class="text-sm text-gray-600">{{ timeline.location }}</div>
          <div
            *ngIf="timeline.description"
            class="text-sm text-gray-900 hidden md:block md:mt-2 md:max-w-fit !leading-4"
          >
            {{ timeline.description }}
          </div>
        </div>
      </ng-container>
    </div>
  </div>
</ng-container>
